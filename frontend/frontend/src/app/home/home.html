<section class="banner">
    <div>
        <h1>Bon Appetit!</h1>
    </div>
</section>

<main>
    <section class="restaurants">
        <div class="restaurants__header">
            <h2>Restaurants</h2>

            <div class="filter-wrapper">
                <select id="region-filter" [(ngModel)]="regionId" (change)="onRegionChange()">
                    <option [ngValue]="null">Alle Regionen</option>
                    <option *ngFor="let r of regions$ | async" [ngValue]="r.id">{{ r.name }}</option>
                </select>
            </div>
        </div>

        <ng-container *ngIf="!isLoading; else loading">
            <div class="grid">
                <article class="card" *ngFor="let r of filteredRestaurants; trackBy: trackById"
                    [routerLink]="['/restaurants', r.id]" style="cursor: pointer;">
                    <div class="card__imageWrap">
                        <img [src]="imgSrc(r)" [alt]="r.name" loading="lazy" />
                    </div>
                    <h3 class="card__title">{{ r.name }}</h3>
                    <div class="card__rating" aria-hidden="true">{{ getRatingStars(r.rating) }}</div>
                </article>
            </div>

            <p class="empty" *ngIf="filteredRestaurants.length === 0">
                Keine Restaurants gefunden.
            </p>
        </ng-container>

        <ng-template #loading>
            <p class="loading">Lade Restaurantsâ€¦</p>
        </ng-template>
    </section>
</main>